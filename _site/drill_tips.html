<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Off-Season - 30 Tips For Throwing Drills</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/GlasgowLogoOutline.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Off-Season</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-getting-started" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Getting Started</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-getting-started">    
        <li>
    <a class="dropdown-item" href="./building.html">
 <span class="dropdown-text">Building The Ultimate Athlete</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./goals.html">
 <span class="dropdown-text">Setting Personal Goals</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./planning.html">
 <span class="dropdown-text">Planning Your Season</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-athletic-development" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Athletic Development</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-athletic-development">    
        <li>
    <a class="dropdown-item" href="./strength.html">
 <span class="dropdown-text">Strength Training</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./mobility.html">
 <span class="dropdown-text">Mobility Training</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./endurance.html">
 <span class="dropdown-text">Endurance Training</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./saq.html">
 <span class="dropdown-text">Speed, Agility, Quickness</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./recovery.html">
 <span class="dropdown-text">Recovery</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./injury.html">
 <span class="dropdown-text">Injury Prevention And Rehab</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-skill-development" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Skill Development</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-skill-development">    
        <li>
    <a class="dropdown-item" href="./skills.html">
 <span class="dropdown-text">Skill Development In Ultimate</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./throwing_practice.html">
 <span class="dropdown-text">How To Practice Your Throwing Drills</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./drill_tips.html">
 <span class="dropdown-text">30 Tips For Throwing Drills</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-peak-performance" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Peak Performance</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-peak-performance">    
        <li>
    <a class="dropdown-item" href="./nutrition.html">
 <span class="dropdown-text">Nutrition</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./mental.html">
 <span class="dropdown-text">Mind Games</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./video.html">
 <span class="dropdown-text">Watch And Learn</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./trials.html">
 <span class="dropdown-text">Preparing For Trials</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">30 Tips For Throwing Drills</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Improving your throwing skills requires focused, dedicated practice. Whether you are warming up for training or taking part in a dedicated skills session, make sure you are getting optimal benefit from your reps. Here are some tips for getting the most out of your throwing drills.</p>
<section id="technique-first" class="level4">
<h4 class="anchored" data-anchor-id="technique-first"><strong>Technique first</strong></h4>
<p>Nail the technique first, before you add defense, before you try to throw hard, before you over complicate your drills, get the technique down. <strong>Get feedback</strong> from a coach, teammate or video analysis.</p>
</section>
<section id="repetition" class="level4">
<h4 class="anchored" data-anchor-id="repetition"><strong>Repetition</strong></h4>
<p>By repeating a similar task multiple times we develop <strong>muscle memory</strong>. Making multiple throws in quick succession allows us to replicate good technique and correct poor form. Drilling with a constant supply of discs is ideal when working on technique. Be sure to rest regularly to avoid loss of form through lack of focus or fatigue.</p>
</section>
<section id="add-variation" class="level4">
<h4 class="anchored" data-anchor-id="add-variation"><strong>Add variation</strong></h4>
<p>Once your technique is sound, play around with varying certain elements of your drills to develop your skills.</p>
</section>
<section id="be-specific" class="level4">
<h4 class="anchored" data-anchor-id="be-specific"><strong>Be specific</strong></h4>
<p>It’s not just a backhand. Be specific about the perfect pass, the shape of the throw, the game scenario and the target you want to hit.</p>
</section>
<section id="visualise---execute---evaluate" class="level4">
<h4 class="anchored" data-anchor-id="visualise---execute---evaluate"><strong>Visualise - Execute - Evaluate</strong></h4>
<p>Visualise a specific throw. Execute without over-thinking. Evaluate the result.</p>
</section>
<section id="dont-over-think-it" class="level4">
<h4 class="anchored" data-anchor-id="dont-over-think-it"><strong>Don’t over-think it</strong></h4>
<p>Consciously thinking about individual body parts can be distracting and overwhelming. Give yourself feedback with verbs and adverbs: “Faster, more flick, smoother, pivot wider etc”</p>
</section>
<section id="visualise-game-scenarios" class="level4">
<h4 class="anchored" data-anchor-id="visualise-game-scenarios"><strong>Visualise game scenarios</strong></h4>
<p>Imagine a situation where you would use the throw you are drilling in a game. Visualise the direction of play, the sideline, your team mates, defender positioning etc. This will help you to maintain focus in drills and apply the skills during play.</p>
</section>
<section id="exaggeration" class="level4">
<h4 class="anchored" data-anchor-id="exaggeration"><strong>Exaggeration</strong></h4>
<p>Exaggerating skills can be a useful method to gain control and range of technique. For instance, if you naturally tend to throw with roll-curve and can’t get the hang of inside-out, try throwing high, loopy, sharp IO angled backhands to begin with.</p>
</section>
<section id="use-your-time-effectively" class="level4">
<h4 class="anchored" data-anchor-id="use-your-time-effectively"><strong>Use your time effectively</strong></h4>
<p>If you think 90% of your on field throws will be forehand or backhand then spend the most time perfecting these throws.</p>
</section>
<section id="research-and-development" class="level4">
<h4 class="anchored" data-anchor-id="research-and-development"><strong>Research and development</strong></h4>
<p>Devote some time to working on new throws or changes in technique. Keep working on technique in your throwing sessions until you are comfortable to use it in drills. You’ll then find it will naturally creep into your game. It’s also fun to play around with some new throws at the end of a session to wind down.</p>
</section>
<section id="catching-practice" class="level4">
<h4 class="anchored" data-anchor-id="catching-practice"><strong>Catching practice</strong></h4>
<p>Throwing drills are generally catching drills as well, don’t be lazy with your catching technique.</p>
</section>
<section id="throw-to-targets" class="level4">
<h4 class="anchored" data-anchor-id="throw-to-targets"><strong>Throw to targets</strong></h4>
<p>Whether it’s a set of cones or a receiver, give yourself a small target to aim for. Receivers can raise their hands as targets to improve accuracy, think about where you want the player to catch the disc (left side, chest, right side, high). Passes in matches often have a large margin for error as we are throwing to running receivers that can change their speed and direction. Developing accuracy therefore requires deliberate and focused throwing practice.</p>
</section>
<section id="use-props" class="level4">
<h4 class="anchored" data-anchor-id="use-props"><strong>Use props</strong></h4>
<p>Trees and cones can make good targets (disc golf) and good forces to throw around.</p>
</section>
<section id="maintain-focus-and-intensity" class="level4">
<h4 class="anchored" data-anchor-id="maintain-focus-and-intensity"><strong>Maintain focus and intensity</strong></h4>
<p>Don’t let a dropped disc disturb the pace of a drill.</p>
</section>
<section id="throw-when-its-windy" class="level4">
<h4 class="anchored" data-anchor-id="throw-when-its-windy"><strong>Throw when it’s windy</strong></h4>
<p>The wind offers resistance and highlights flaws in your technique. If you can learn to throw in the wind you’ll be amazed at what you can do on a still day. As well as throwing through the wind, learn to use it to get your disc to the intended target.</p>
</section>
<section id="rotate-your-drills" class="level4">
<h4 class="anchored" data-anchor-id="rotate-your-drills"><strong>Rotate your drills</strong></h4>
<p>Change up the wind direction and learn to throw in different winds.</p>
</section>
<section id="throw-to-moving-targets" class="level4">
<h4 class="anchored" data-anchor-id="throw-to-moving-targets"><strong>Throw to moving targets</strong></h4>
<p>In games we throw to moving targets more often than stationary ones. Think about the types of cuts you would make in a game.</p>
</section>
<section id="practice-moving-into-a-throw" class="level4">
<h4 class="anchored" data-anchor-id="practice-moving-into-a-throw"><strong>Practice moving into a throw</strong></h4>
<p>In games we often receive the disc from one direction, then turn and throw in another direction. We also receive the disc on the move. Try to replicate these movements in some of your drills.</p>
</section>
<section id="section" class="level4">
<h4 class="anchored" data-anchor-id="section"><strong>3 &gt; 2</strong></h4>
<p>Throwing in pairs is fine and will give you lots of reps, but a 3rd person can add defense, continuation throws or multiple throwing options to your drills, making them more game-like.</p>
</section>
<section id="use-multiple-discs" class="level4">
<h4 class="anchored" data-anchor-id="use-multiple-discs"><strong>Use multiple discs</strong></h4>
<p>Increase your reps and time between reps by using a stack of discs or having multiple discs in the air at once.&nbsp;</p>
</section>
<section id="play-defense" class="level4">
<h4 class="anchored" data-anchor-id="play-defense"><strong>Play defense</strong></h4>
<p>Play defense at a challenging level for the offense players so they get the most out of drills.</p>
</section>
<section id="reactive-or-random-drills" class="level4">
<h4 class="anchored" data-anchor-id="reactive-or-random-drills"><strong>Reactive or random drills</strong></h4>
<p>Add a reactive or random element to drills to force the thrower to think and execute quickly.</p>
</section>
<section id="versatility" class="level4">
<h4 class="anchored" data-anchor-id="versatility"><strong>Versatility</strong></h4>
<p>Good throwers have many tools at their disposal and can use multiple throws in the same situation. Use different throws in drills to hit the same targets.</p>
</section>
<section id="play-small-sided-games" class="level4">
<h4 class="anchored" data-anchor-id="play-small-sided-games"><strong>Play small sided games</strong></h4>
<p>Small sided games are a great way to get lots of realistic, randomised throwing reps. Make sure you have a focus and think about applying conditions or scenarios to the game to aid your learning.</p>
</section>
<section id="challenge-yourself" class="level4">
<h4 class="anchored" data-anchor-id="challenge-yourself"><strong>Challenge yourself</strong></h4>
<p>Improve by working at the limits of your ability and trying to push beyond. If you are throwing long, set a cone to aim for that is just beyond a comfortable distance for you. If you are working on wide pivots try <a href="https://www.youtube.com/watch?v=KdRIBL0Lh0w">this drill</a>.</p>
</section>
<section id="be-okay-with-making-mistakes" class="level4">
<h4 class="anchored" data-anchor-id="be-okay-with-making-mistakes"><strong>Be okay with making mistakes</strong></h4>
<p>Deliberate practice occurs outside of your comfort zone. It should be difficult, don’t beat yourself up when you make errors. Try to remain in a state of relaxed concentration.</p>
</section>
<section id="scale-the-difficulty" class="level4">
<h4 class="anchored" data-anchor-id="scale-the-difficulty"><strong>Scale the difficulty</strong></h4>
<p>If a drill is too difficult for you to complete then think of ways to scale down the difficulty. Remove one of the variables or ask the defense to be less active.&nbsp;</p>
</section>
<section id="consistency" class="level4">
<h4 class="anchored" data-anchor-id="consistency"><strong>Consistency</strong></h4>
<p>Consistency and accuracy should be a prime focus. Skill development isn’t all about new techniques and throwing further. Consistently executing the throws you already have will make you an effective and reliable player. This is especially important in the lead up to tournaments where you want to feel confident hitting low risk options.</p>
</section>
<section id="take-a-break" class="level4">
<h4 class="anchored" data-anchor-id="take-a-break"><strong>Take a break</strong></h4>
<p>Focused, deliberate practice can be physically and mentally draining. When your concentration or form dips, take a break. Increasing your focused time over multiple sessions can help build your mental toughness.</p>
</section>
<section id="cross-training" class="level4">
<h4 class="anchored" data-anchor-id="cross-training"><strong>Cross training</strong></h4>
<p>A lot of athletic and coordination skills are transferable across sports. Don’t feel like you always need to play ultimate to work on your skills. Basketball and volleyball are great for jumping technique; Spikeball requires quick reactions and the occasional layout; a round of disc golf can give you new insights on your throwing technique.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>