<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Off-Season - Speed, Agility, Quickness (SAQ)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/GlasgowLogoOutline.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Off-Season</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-getting-started" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Getting Started</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-getting-started">    
        <li>
    <a class="dropdown-item" href="./building.html">
 <span class="dropdown-text">Building The Ultimate Athlete</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./goals.html">
 <span class="dropdown-text">Setting Personal Goals</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./planning.html">
 <span class="dropdown-text">Planning Your Season</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-athletic-development" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Athletic Development</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-athletic-development">    
        <li>
    <a class="dropdown-item" href="./strength.html">
 <span class="dropdown-text">Strength Training</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./mobility.html">
 <span class="dropdown-text">Mobility Training</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./endurance.html">
 <span class="dropdown-text">Endurance Training</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./saq.html">
 <span class="dropdown-text">Speed, Agility, Quickness</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./recovery.html">
 <span class="dropdown-text">Recovery</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./injury.html">
 <span class="dropdown-text">Injury Prevention And Rehab</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-skill-development" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Skill Development</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-skill-development">    
        <li>
    <a class="dropdown-item" href="./skills.html">
 <span class="dropdown-text">Skill Development In Ultimate</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./throwing_practice.html">
 <span class="dropdown-text">How To Practice Your Throwing Drills</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./drill_tips.html">
 <span class="dropdown-text">30 Tips For Throwing Drills</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-peak-performance" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Peak Performance</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-peak-performance">    
        <li>
    <a class="dropdown-item" href="./nutrition.html">
 <span class="dropdown-text">Nutrition</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./mental.html">
 <span class="dropdown-text">Mind Games</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./video.html">
 <span class="dropdown-text">Watch And Learn</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./trials.html">
 <span class="dropdown-text">Preparing For Trials</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#saq-for-ultimate" id="toc-saq-for-ultimate" class="nav-link active" data-scroll-target="#saq-for-ultimate">SAQ for Ultimate</a></li>
  <li><a href="#intensity-vs-volume" id="toc-intensity-vs-volume" class="nav-link" data-scroll-target="#intensity-vs-volume">Intensity vs volume</a></li>
  <li><a href="#a-note-on-speed-endurance" id="toc-a-note-on-speed-endurance" class="nav-link" data-scroll-target="#a-note-on-speed-endurance">A note on speed endurance</a></li>
  <li><a href="#when-to-run-your-saq-workouts" id="toc-when-to-run-your-saq-workouts" class="nav-link" data-scroll-target="#when-to-run-your-saq-workouts">When to run your SAQ workouts</a></li>
  <li><a href="#incorporate-reactive-drills" id="toc-incorporate-reactive-drills" class="nav-link" data-scroll-target="#incorporate-reactive-drills">Incorporate reactive drills</a></li>
  <li><a href="#movement-is-a-skill" id="toc-movement-is-a-skill" class="nav-link" data-scroll-target="#movement-is-a-skill">Movement is a skill</a></li>
  <li><a href="#further-resources" id="toc-further-resources" class="nav-link" data-scroll-target="#further-resources">Further resources</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Speed, Agility, Quickness (SAQ)</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Speed, agility, and quickness are crucial skills for every ultimate athlete, enabling you to sprint, change direction and react to plays on the field.</p>
<ul>
<li><p><strong>Speed</strong>: The ability to move rapidly across the ground in a straight line.</p></li>
<li><p><strong>Agility</strong>: The capacity to change direction quickly and efficiently while maintaining control. Agility is crucial for sharp directional cuts, defensive adjustments, and avoiding collisions.</p></li>
<li><p><strong>Quickness</strong>: The ability to react and move swiftly in short bursts. Quickness determines how fast you can explode off the mark or react to a pass or defender.</p></li>
</ul>
<p><img src="images/saq_jim.jpg" class="img-fluid" style="width:100.0%"></p>
<section id="saq-for-ultimate" class="level2">
<h2 class="anchored" data-anchor-id="saq-for-ultimate">SAQ for Ultimate</h2>
<p>Glasgow Ultimate has a <a href="https://docs.google.com/spreadsheets/d/12OT5balS05hrejnTBiysfwAg2ScNBL3Qtk5-7_pDUfs/edit?usp=sharing">10 week SAQ program</a> that works on:</p>
<ul>
<li><p>Acceleration</p></li>
<li><p>Straight line speed</p></li>
<li><p>Lateral speed</p></li>
<li><p>Changes of direction</p></li>
<li><p>Speed endurance</p></li>
<li><p>Fundamental footwork patterns</p></li>
<li><p>Reactive movements</p></li>
<li><p>Disc skills</p></li>
</ul>
<p>SAQ workouts are generally a mix of sprinting, turning and reactive drills. While many of these can be performed in the gym, you may get more benefit from <strong>booting up</strong> and running your workouts on turf. Focus on <strong>game-specific movements,</strong> visualise yourself on the field and <strong>incorporate a disc</strong> to add skill training to your drills.</p>
</section>
<section id="intensity-vs-volume" class="level2">
<h2 class="anchored" data-anchor-id="intensity-vs-volume">Intensity vs volume</h2>
<p>Training for speed is completely different to training for endurance. SAQ workouts involve <strong>high intensity efforts</strong> with <strong>long recovery periods.</strong> This is to ensure that each rep is performed as close to your maximum as possible. Try to <strong>avoid fatigue</strong> as this will compromise your form and speed. Quality over quantity is the name of the game when it comes to SAQ.</p>
<p>Ensure you <strong>conduct a warm up</strong> with dynamic stretches and activation drills to perform at your best and avoid injury.</p>
</section>
<section id="a-note-on-speed-endurance" class="level2">
<h2 class="anchored" data-anchor-id="a-note-on-speed-endurance">A note on speed endurance</h2>
<p>Speed endurance refers to your capacity to maintain top speed throughout a prolonged sprint or over multiple sprints. The primary focus of a speed endurance workout is to train your <strong>anaerobic</strong> system to resist fatigue. It should not be confused with a cardiovascular endurance workout which trains your <strong>aerobic</strong> system to effectively transport oxygen around your body.</p>
<p>Training the anaerobic system requires <strong>maximal recovery between repetitions</strong>, so speed endurance workouts should be treated like regular speed workouts.</p>
<p><strong>Aerobic vs anaerobic</strong></p>
<ul>
<li><p>Anaerobic (without oxygen) exercise is fueled by energy stored within your muscles.</p></li>
<li><p>Aerobic (with oxygen) exercise uses oxygen from the air you breathe to create energy.&nbsp;</p></li>
</ul>
<p>Your anaerobic system generates energy for short bursts of intense physical activity. The anaerobic system produces energy quickly but is limited by byproducts like lactic acid which cause fatigue and muscle pain.</p>
<p>Your aerobic system generates energy for longer sustained efforts that last more than a few minutes. It uses the heart and lungs to transport oxygen to your muscles.</p>
</section>
<section id="when-to-run-your-saq-workouts" class="level2">
<h2 class="anchored" data-anchor-id="when-to-run-your-saq-workouts">When to run your SAQ workouts</h2>
<p>SAQ workouts work well in pre-season or during your competitive season for a number of reasons:</p>
<ul>
<li><p>They build on your off-season strength and conditioning by translating power into explosive game specific movements.</p></li>
<li><p>The drier and lighter conditions in the spring/summer are often more suited to these types of workouts, especially if performed on grass.</p></li>
<li><p>They can incorporate sports specific skills and drills which help you reach peak performance at the right time of the season</p></li>
</ul>
<p>However, If you are training multiple times a week and playing regularly at weekends, it can be tough to work these in and still give your body adequate recovery periods. Try incorporating SAQ into your <strong>training sessions and warm ups</strong>.</p>
<p>Some athletes like to work on SAQ in the off-season as a way to stay sharp over the winter. There is nothing stopping you from doing this, particularly if this is a weakness you have identified. The off-season is also a great time to work on fundamental movement and footwork to improve the quality of your SAQ workouts later in the season.</p>
</section>
<section id="incorporate-reactive-drills" class="level2">
<h2 class="anchored" data-anchor-id="incorporate-reactive-drills">Incorporate reactive drills</h2>
<p>Reactive training develops quick decision-making and explosive responses to unpredictable situations:</p>
<ul>
<li><p><strong>Mirror drills</strong>: Two players face off. One leads while the other mirrors or reacts to their movements.</p></li>
<li><p><strong>Reaction start / change of direction</strong>: React to an auditory or visual cue (like a shout, a raised hand or a flying disc) to sprint or change direction.</p></li>
<li><p><strong>Chasing drills</strong>: A defender chases an offense player through a course trying to tag them before they finish.</p></li>
<li><p><strong>Disc-based drills:</strong> Adding a catch at the end of a sprint adds a reactionary component to a drill.</p></li>
</ul>
<p><img src="images/saq_ron.jpg" class="img-fluid" style="width:100.0%"></p>
</section>
<section id="movement-is-a-skill" class="level2">
<h2 class="anchored" data-anchor-id="movement-is-a-skill">Movement is a skill</h2>
<p>When we think about skills we tend to think about complicated actions such as throwing. However, running, turning, jumping and diving are all skills that need to be drilled and perfected by top athletes. Drilling the optimum technique for a 180 degree turn, running sideways or jumping off both feet can be more beneficial than simply trying to perform these actions with more power.</p>
<p>Training fundamental movement patterns is often overlooked by ultimate athletes because most of us have already developed the minimal requirements for coordination, footwork and balance. We tend to skip past developing these skills and focus more on conventional fitness and sports specific training.</p>
<p>Devoting time to perfect your movement patterns will allow you to get the maximum benefit from your SAQ drills. Start slow, use cones and ladders, drill in specific movement patterns the way you would learn to dance. Visual cues can be really helpful, so watch videos or study your teammates and copy the way other players move.</p>
</section>
<section id="further-resources" class="level2">
<h2 class="anchored" data-anchor-id="further-resources">Further resources</h2>
<p>There are more links and resources available on the SAQ tab of the <a href="https://docs.google.com/spreadsheets/d/1M3_td5SLFlBzHrwxY6w706WYm_sZCrkHSMS5-wXl3vE/edit?usp=sharing">Conditioning for Ultimate</a> spreadsheet. This includes links to specific programs, workouts and YouTube channels.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>